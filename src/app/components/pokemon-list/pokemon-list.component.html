<div class="container-fluid">
<!-- Utiliser le nouveau control flow d'Angular 21 -->
@if (loading) {
  <div class="loading">Chargement des Pokémon...</div>
} @else if (error) {
  <div class="error">{{ error }}</div>
} @else {
  <div class="pokemon-grid">
    @for (pokemon of pokemons; track pokemon.id) {
      <div class="pokemon-card">
        <img [src]="pokemon.sprites.front_default" [alt]="pokemon.name">
        <h3>{{ pokemon.name | uppercase }}</h3>
        <div class="types">
          @for (type of pokemon.types; track type.type.name) {
            <span class="type">{{ type.type.name }}</span>
          }
        </div>
      </div>
    }
  </div>

  <!-- Section de pagination -->
  <div class="pagination-container">
    <button
      class="btn btn-sm btn-outline-primary"
      (click)="previousPage()"
      [disabled]="!canPreviousPage()">
      ← Précédent
    </button>

    <div class="page-numbers">
      @for (page of pages; track page) {
        <button
          class="btn btn-sm"
          [class.btn-primary]="page === currentPage"
          [class.btn-outline-primary]="page !== currentPage"
          (click)="goToPage(page)">
          {{ page }}
        </button>
      }
    </div>

    <button
      class="btn btn-sm btn-outline-primary"
      (click)="nextPage()"
      [disabled]="!canNextPage()">
      Suivant →
    </button>
  </div>

  <p class="text-center page-info">Page {{ currentPage }} sur {{ totalPages }}</p>
}
