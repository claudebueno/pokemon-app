<div class="container-fluid">
  @if (loading) {
    <div class="alert alert-info" role="status">
      Chargement des Pokémon...
    </div>
  }

  @if (error) {
    <div class="alert alert-danger" role="alert">
      {{ error }}
    </div>
  }

  <!-- Grille Bootstrap des Pokémon -->
  <div class="container">
    <div class="row">
      @for (pokemon of pokemons; track pokemon.id) {
        <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4">
          <div class="card text-center h-100">
            <img
              [src]="pokemon.sprites.other?.['official-artwork']?.front_default || pokemon.sprites.front_default"
              [alt]="pokemon.name"
              class="card-img-top"
              loading="lazy">
            <div class="card-body">
              <h5 class="card-title">{{ pokemon.name | titlecase }}</h5>
              <div class="d-flex justify-content-center flex-wrap gap-2">
                @for (type of pokemon.types; track type.type.name) {
                  <span class="badge bg-primary text-capitalize">
                    {{ type.type.name }}
                  </span>
                }
              </div>
            </div>
          </div>
        </div>
      }
    </div>
  </div>

  <!-- Section de pagination avec numérotation cliquable -->
  <div class="pagination-container">
    <button
      class="btn btn-sm btn-outline-primary"
      (click)="previousPage()"
      [disabled]="!canPreviousPage()">
      ← Précédent
    </button>

    <div class="page-numbers">
      <button
        *ngFor="let page of pages"
        class="btn btn-sm"
        [class.btn-primary]="page === currentPage"
        [class.btn-outline-primary]="page !== currentPage"
        (click)="goToPage(page)">
        {{ page }}
      </button>
    </div>

    <button
      class="btn btn-sm btn-outline-primary"
      (click)="nextPage()"
      [disabled]="!canNextPage()">
      Suivant →
    </button>
  </div>

<!--  <p class="text-center page-info">Page {{ currentPage }} sur {{ totalPages }}</p>-->
</div>
